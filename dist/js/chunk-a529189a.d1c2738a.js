(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a529189a"],{"3dce":function(t,e,s){"use strict";var o=s("c352"),a=s.n(o);a.a},4857:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"category"}},[s("nav-bar",[s("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])]),s("aside-tab",{staticClass:"aside-tab",on:{changeCateType:t.changeCateType}}),s("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.tabControl1Show,expression:"tabControl1Show"}],ref:"tabControl1",staticClass:"tab-control",attrs:{tabs:["流行","新款","精选"]},on:{tabChange:t.changeType}}),s("home-scroll",{ref:"HomeScroll",staticClass:"container",on:{scrolling:t.onScrolling}},[s("cate-main",{staticClass:"cate-main",attrs:{currentCateList:t.activeCateList},on:{imgLoad:t.scrollRefresh}}),s("tab-control",{ref:"tabControl2",staticClass:"tab-control",attrs:{tabs:["流行","新款","精选"]},on:{tabChange:t.changeType}}),s("goods-view",{staticClass:"goods-view",attrs:{goods:t.goods},on:{imgLoad:t.scrollRefresh}})],1)],1)},a=[],n=(s("4160"),s("d3b7"),s("159b"),s("b85c")),r=s("e6c5"),i=s("a7ac"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"aside-tab-bar"},t._l(t.tabTitle,(function(e,o){return s("li",{key:o,class:{active:o==t.currentIndex},on:{click:function(e){return t.asideClick(o)}}},[t._v(" "+t._s(e)+" ")])})),0)])},l=[],f={name:"AsideTab",data:function(){return{tabTitle:{pop:"正在流行",shirt:"上衣",pants:"裤子",dress:"裙装",uw:"内衣",female_shoes:"女鞋",bf:"男友",bags:"包包",sports:"运动",accessories:"配饰",makeup:"化妆品",personal_care:"日化品",home:"家居"},currentIndex:"pop"}},created:function(){},methods:{asideClick:function(t){this.currentIndex=t,this.$emit("changeCateType",t)}}},u=f,h=(s("90fb"),s("2877")),d=Object(h["a"])(u,c,l,!1,null,"81dae5a8",null),p=d.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cate-main"},t._l(t.currentCateList,(function(e,o){return s("div",{key:o,staticClass:"cate-unit"},[s("a",{attrs:{href:e.href}},[s("img",{attrs:{src:"http://www.cachimon.top/mogujie/"+e.img,alt:e.title},on:{load:t.imgLoad}}),s("p",[t._v(t._s(e.title))])])])})),0)},m=[],C={name:"CateMain",data:function(){return{tabTitle:{pop:"正在流行",shirt:"上衣",pants:"裤子",dress:"裙装",uw:"内衣",female_shoes:"女鞋",bf:"男友",bags:"包包",sports:"运动",accessories:"配饰",makeup:"化妆品",personal_care:"日化品",home:"家居"},currentIndex:"pop",cateId:0}},props:{currentCateList:{type:Array,default:[]}},created:function(){},methods:{asideClick:function(t){this.currentIndex=t},imgLoad:function(){this.$emit("imgLoad")}}},g=C,v=(s("3dce"),Object(h["a"])(g,b,m,!1,null,"385e14c7",null)),L=v.exports,w=s("1bab");function y(t){return Object(w["a"])({url:"/mogujie/categories_data/"+t+"_cate.json"})}var T=s("9bd0"),$=s("d9b7"),_={name:"catagory",data:function(){return{tabType:["pop","shirt","pants","dress","uw","female_shoes","bf","bags","sports","accessories","makeup","personal_care","home"],cateList:{pop:[],shirt:[],pants:[],dress:[],uw:[],female_shoes:[],bf:[],bags:[],sports:[],accessories:[],makeup:[],personal_care:[],home:[]},activeCateList:[],goodsList:{pop:[],new:[],sell:[],type:["pop","new","sell"]},type:"pop",currentScrollY:0,tabControl1Show:!1,tabControlOffsetTop:610,itemId:0}},computed:{goods:function(){return this.goodsList[this.type]}},components:{HomeScroll:r["a"],NavBar:i["a"],AsideTab:p,CateMain:L,TabControl:T["a"],GoodsView:$["a"]},created:function(){this.getAllCateList()},mounted:function(){this.getAllGoodsList()},methods:{getAllCateList:function(){var t,e=this,s=Object(n["a"])(this.tabType);try{var o=function(){var s=t.value;y(s).then((function(t){e.cateList[s]=t.data,"pop"===s&&(e.activeCateList=e.cateList.pop)}))};for(s.s();!(t=s.n()).done;)o()}catch(a){s.e(a)}finally{s.f()}},changeCateType:function(t){this.activeCateList=this.cateList[t],this.scrollRefresh();var e=this.$refs.tabControl2.$el.offsetTop-this.$refs.tabControl2.$el.offsetHeight;this.tabControl1Show=e<this.tabControlOffsetTop,this.tabControlOffsetTop=this.$refs.tabControl2.$el.offsetTop-this.$refs.tabControl2.$el.offsetHeight},getAllGoodsList:function(){var t=this;new Promise((function(t){setTimeout((function(){t()}),200)})).then((function(){var e=!1;t.goodsList.type.forEach((function(s){t.goodsList[s]=t.$store.state.goodsList[s],0===t.goodsList[s].length&&(e=!0)})),!0===e&&t.getAllGoodsList()}))},scrollRefresh:function(){this.$refs.HomeScroll.scroll&&this.$refs.HomeScroll.scroll.refresh(),this.tabControlOffsetTop=this.$refs.tabControl2.$el.offsetTop-this.$refs.tabControl2.$el.offsetHeight},onScrolling:function(t){this.tabControl1Show=-t.y>this.tabControlOffsetTop},changeType:function(t,e){this.type=this.goodsList.type[t],this.$refs.tabControl1.currentIndex=t,this.$refs.tabControl2.currentIndex=t}},activated:function(){this.$refs.HomeScroll.scroll.refresh(),this.$refs.HomeScroll.scroll.scrollTo(0,this.currentScrollY)},deactivated:function(){this.currentScrollY=this.$refs.HomeScroll.scroll.y}},S=_,k=(s("c2d5"),Object(h["a"])(S,o,a,!1,null,"d89a13e2",null));e["default"]=k.exports},"90fb":function(t,e,s){"use strict";var o=s("ca57"),a=s.n(o);a.a},c2d5:function(t,e,s){"use strict";var o=s("fe97"),a=s.n(o);a.a},c352:function(t,e,s){},ca57:function(t,e,s){},fe97:function(t,e,s){}}]);
//# sourceMappingURL=chunk-a529189a.d1c2738a.js.map